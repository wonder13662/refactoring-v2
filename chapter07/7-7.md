### 7.7 위임 숨기기(Hide Delegate)
반대 리팩터링: [7.8 중개자 제거하기(Remove Middle Man)](https://github.com/wonder13662/refactoring-v2/blob/writing/chapter07/7-8.md)
``` diff
-manager = aPerson.department.manager;
+manager = aPerson.manager;
+class Person {
+ get manager() { return this.department.maanger; }
+}
```
#### 배경
모듈화 설계를 제대로 하는 핵심은 캡슐화다. 어쩌면 가장 중요한 요소일 수도 있다. 캡슐화는 모듈들이 시스템의 다른 부분에 대해 알아야 할 내용을 줄여준다. 캡슐화가 잘 되어 있다면 무언가를 변경해야 할 때 함께 고려해야 할 모듈 수가 적어져서 코드를 변경하기가 훨씬 쉬워진다. 

객체 지향을 처음 배울 때는 캡슐화란 필드를 숨기는 것이라고 배운다. 그러다 경험이 쌓이면서 캡슐화의 역할이 그보다 많다는 사실을 깨닫는다.

예컨대  서버 객체의 필드가 가리키는 객체(위임 객체 - delegate)의 메서드를 호출하려면 클라이언트는 위임 객체를 알아야 한다. 위임 객체의 인터페이스가 바뀌면 이 인터페이스를 사용하는 모든 클라이언트가 코드를 수정해야 한다. 이러한 의존성을 없애려면 서버 자체에 위임 메서드를 만들어서 위임 객체의 존재를 숨겨버리면 된다. 그러면 위임 객체가 수정되더라도 서버 코드만 고치면 되며, 클라이언트는 아무런 영향을 받지 않는다.
#### 절차
##### (1) 위임 객체의 각 메서드에 해당하는 위임 메서드를 서버에 생성한다.
##### (2) 클라이언트가 위임 객체 대신 서버를 호출하도록 수정한다. 하나씩 바꿀 때마다 테스트한다.
##### (3) 모두 수정했다면, 서버로부터 위임 객체를 얻는 접근자를 제거하낟.
##### (4) 테스트한다.