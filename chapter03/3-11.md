# 3.11 기본형 집착(Primitive Obsession)
대부분의 프로그래밍 언어는 정수, 부동소수점 수, 문자열 같은 다양한 기본형(primitive type)을 제공한다. 라이브러리를 통해 날짜 같은 간단한 객체를 추가로 제공하기도 한다. 한편 프로그래머 중에는 자신에게 주어진 문제에 딱 맞는 기초 타입(화폐, 좌표, 구간 등)을 직접 정의하기를 몹시 꺼리는 사람이 많다. 그래서 금액을 그냥 숫자형으로 계산하거나, 물리량을 계산할 때도 밀리미터나 인치 같은 단위를 무시하고, 범위도 `if(a < upper && a > lower)`처럼 처리하는 코드를 수없이 봤다.

이 냄새는 문자열을 다루는 코드에서 특히 흔하다. 전화번호를 단순히 문자 집합으로만 표현하기엔 아쉬움이 많다. 최소한 사용자에게 보여줄 때는 일관된 형식으로 출력해주는 기능이라도 갖춰야 한다. 이런 자료형들은 문자열로만 표현하는 악취는 아주 흔해서, 소위 '문자열화된(stringly typed)' 변수라는 이름까지 붙었다.

[7.3 기본형을 객체로 바꾸기(Replace Primitive with Object)](https://github.com/wonder13662/refactoring-v2/blob/writing/chapter07/7-3.md)를 적용하면 기본형만이 거주하는 구석기 동굴을 의미있는 자료형들이 사는 최신 온돌식 코드로 탈바꿈시킬 수 있다. 기본형으로 표현된 코드가 조건부 동작을 제어하는 타입 코드(type code)로 쓰였다면 [12.6 타입 코드를 서브클래스로 바꾸기(Replace Type Code with Subclasses)](https://github.com/wonder13662/refactoring-v2/blob/writing/chapter12/12-6.md)와 [10.4 조건부 로직을 다형성으로 바꾸기(Replace Conditional with Polymorphism)](https://github.com/wonder13662/refactoring-v2/blob/writing/chapter10/10-4.md)를 차례로 적용한다.

자주 함께 몰려다니는 기본형 그룹도 데이터 뭉치다. 따라서 [7.5 클래스 추출하기(Extract Class)](https://github.com/wonder13662/refactoring-v2/blob/writing/chapter07/7-5.md)와 [6.8 매개변수 객체 만들기(Introduce Parameter Object)](https://github.com/wonder13662/refactoring-v2/blob/writing/chapter06/6-8.md)를 이용하여 반드시 문명사회로 이끌어줘야 한다.

- [목차](https://github.com/wonder13662/refactoring-v2/blob/writing)
- [3 코드에서 나는 악취](https://github.com/wonder13662/refactoring-v2/blob/writing/chapter03)
- [3.10 데이터 뭉치(Data Clumps)](https://github.com/wonder13662/refactoring-v2/blob/writing/chapter03/3-10.md)
- [3.12 반복되는 Switch문(Repeated Switches)](https://github.com/wonder13662/refactoring-v2/blob/writing/chapter03/3-12.md)