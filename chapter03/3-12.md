# 3.12 반복되는 Switch문(Repeated Switches)
순수한 객체 지향을 신봉하는 사람들과 이야기하다 보면 주제는 곧 `switch`문의 사악함으로 흘러가기 마련이다. 이들은 코드에 등장하는 `switch`문은 모조리 [10.4 조건부 로직을 다형성으로 바꾸기(Replace Conditional with Polymorphism)](https://github.com/wonder13662/refactoring-v2/blob/writing/chapter10/10-4.md)로 없애야 할 대상이라고 주장한다. 심지어 모든 조건부 로직을 다형성으로 바꿔서 `if`문까지도 대부분 휴지통에 쓸어 담아야 한다고 주장하는 이도 있다.

한때 과격했던 우리조차 조건문에 이렇게 무조건 반대하진 않았다. 사실 이 책의 초반에는 "switch문"이란 냄새를 소개하기도 했는데, 다 이유가 있었다. 그 이유는 1990년대 후반까지만 해도 다형성의 가치를 제대로 아는 사람이 적었고, "switch문" 냄새가 사람들이 다형성을 이용하도록 전환시키는 데 도움이 되었기 때문이다.

초판 때와 비교해 지금은 다형성이 널리 자리 잡아서 단순히 `switch`문을 썼다고 해서 자동으로 검토 대상은 되지는 않는 세상이 되었다. 게다기 분기 조건에 몇 가지 기본형만 쓸 수 있던 예전과 달리, 문자열 등의 더 복잡한 타입까지 지원하는 발전된 `switch`문을 제공하는 언어도 많아졌다. 그러니 이제는 똑같은 조건부 로직 (switch/case문이나 길게 나열된 if/else문)이 여러 곳에서 반복해 등장하는 코드에 집중해보자.

중복된 `switch`문이 문제가 되는 이유는 조건절을 하나 추가할 때마다 다른 `switch`문들도 모두 찾아서 함께 수정해야 하기 때문이다. 이럴 때 다형성은 반복된 `switch`문이 내뿜는 사악한 기운을 제압하여 코드베이스를 최신 스타일로 바꿔주는 세련된 무기인 셈이다.

- [목차](https://github.com/wonder13662/refactoring-v2/blob/writing)
- [3 코드에서 나는 악취](https://github.com/wonder13662/refactoring-v2/blob/writing/chapter03)
- [3.11 기본형 집착(Primitive Obsession)](https://github.com/wonder13662/refactoring-v2/blob/writing/chapter03/3-11.md)
- [3.13 반복문(Loops)](https://github.com/wonder13662/refactoring-v2/blob/writing/chapter03/3-13.md)